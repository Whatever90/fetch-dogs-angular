<div class="container mt-4">
    <h2 (click)="test()">Location Search</h2>
    <form (ngSubmit)="searchLocations()">
        <!-- City Input -->
        <div class="mb-3">
            <label for="city" class="form-label">City:</label>
            <input type="text" id="city" [(ngModel)]="criteria.city" name="city" class="form-control"
                placeholder="Enter city" />
        </div>

        <!-- States Input -->
        <div class="mb-3">
            <label for="states" class="form-label">States (comma separated):</label>
            <input type="text" id="states" [(ngModel)]="statesInput" name="states" class="form-control"
                placeholder="e.g., CA, NY" />
        </div>

        <!-- Geographic Bounding Box (Optional) -->
        <div class="mb-3">
            <label class="form-label">Geographic Bounding Box (optional):</label>
            <div class="row">
                <div class="col">
                    <input type="number" [(ngModel)]="criteria.geoBoundingBox.top" name="top" class="form-control"
                        placeholder="Top" />
                </div>
                <div class="col">
                    <input type="number" [(ngModel)]="criteria.geoBoundingBox.left" name="left" class="form-control"
                        placeholder="Left" />
                </div>
                <div class="col">
                    <input type="number" [(ngModel)]="criteria.geoBoundingBox.bottom" name="bottom" class="form-control"
                        placeholder="Bottom" />
                </div>
                <div class="col">
                    <input type="number" [(ngModel)]="criteria.geoBoundingBox.right" name="right" class="form-control"
                        placeholder="Right" />
                </div>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Search Locations</button>
    </form>

    <!-- Error Message -->
    <div *ngIf="error" class="alert alert-danger mt-3">{{ error }}</div>

    <!-- Results Display -->
    <div *ngIf="locations">
        <h3 class="mt-3">Results (Total: {{ total }})</h3>
        <ul class="list-group">
            <li *ngFor="let loc of locations" class="list-group-item">
                {{ loc.city }}, {{ loc.state }} - ZIP: {{ loc.zip_code }}
            </li>
        </ul>
    </div>
</div>